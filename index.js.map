{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/config/iziToast.js","../src/js/pixabay-api.js","../src/js/simlpeLightbox.js","../src/js/render-functions.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n","import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n\n  iconColor: '#FFF',\n  color: '#FFF',\n\n  close: true,\n  position: 'topRight',\n\n  messageColor: '#FFF',\n  messageSize: '16px',\n\n  progressBar: true,\n\n  progressBarEasing: 'linear',\n});\n\nexport { iziToast };\n","import axios from 'axios';\n\nconst API_KEY = '40358053-aa77a52d7b78d629a29aff12d';\nconst BASE_URL = 'https://pixabay.com/api';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n\nexport const getImages = async query => {\n  const params = {\n    q: query,\n  };\n\n  const { data } = await axios.get('/', { params });\n  console.log('ðŸš€ ~ data:', data);\n  return data;\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n","import { refs } from './refs';\nimport { lightbox } from './simlpeLightbox';\n\nexport const renderGallery = images => {\n  const itemMarkup = ({\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  }) => `\n      <li class=\"card card-set-item\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\" href=\"#\">\n              <div class=\"photo-box\">\n                <img\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  class=\"photo\"\n                />\n              </div>\n              <div class=\"capture\">\n                <div class=\"item\"><span class=\"accent\">Likes</span>${likes}</div>\n                <div class=\"item\"><span class=\"accent\">Views</span>${views}</div>\n                <div class=\"item\"><span class=\"accent\">Comments</span>${comments}</div>\n                <div class=\"item\">\n                  <span class=\"accent\">Downloads</span>${downloads}\n                </div>\n              </div>\n            </a>\n          </li>\n      `;\n  const galleryMarkup = images.map(image => itemMarkup(image)).join('');\n\n  refs.gallery.innerHTML = galleryMarkup;\n\n  lightbox.refresh();\n};\n","import { refs } from './refs';\n\nimport { iziToast } from './config/iziToast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './pixabay-api';\nimport { renderGallery } from './render-functions';\n\nconst isLocalhost =\n  window.location.origin.includes('localhost') ||\n  window.location.origin.includes('127.0.0.1');\n\nconst iziToastOptions = {\n  message: 'Sorry, something went wrong.',\n\n  iconUrl: isLocalhost\n    ? './public/img/illegal.svg'\n    : '/goit-advancedjs-hw-03/img/illegal.svg',\n\n  progressBarColor: '#B51B1B',\n  backgroundColor: '#EF4040',\n\n  maxWidth: '432px',\n};\n\nexport const handleImagesSearch = e => {\n  e.preventDefault();\n  const input = refs.form.elements.search;\n\n  const query = input.value.trim();\n\n  if (query === '') {\n    iziToast.show({\n      ...iziToastOptions,\n      message: 'Oops! Looks like you forgot to enter something.',\n    });\n    input.value = '';\n    return;\n  }\n\n  refs.loader.classList.remove('visually-hidden');\n  input.value = '';\n\n  getImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          ...iziToastOptions,\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n      }\n\n      renderGallery(data.hits);\n    })\n    .catch(err =>\n      iziToast.show({\n        ...iziToastOptions,\n        message: `Sorry, something went wrong.: ${err}`,\n      })\n    )\n    .finally(() => {\n      refs.loader.classList.add('visually-hidden');\n    });\n};\n","import { refs } from './js/refs';\nimport { handleImagesSearch } from './js/handlers';\n\nrefs.form.addEventListener('submit', handleImagesSearch);\n"],"names":["refs","iziToast","API_KEY","BASE_URL","axios","getImages","query","params","data","lightbox","SimpleLightbox","renderGallery","images","itemMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","galleryMarkup","image","isLocalhost","iziToastOptions","handleImagesSearch","e","input","err"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC7C,ECFAC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,UACd,cAAe,WAEf,UAAW,OACX,MAAO,OAEP,MAAO,GACP,SAAU,WAEV,aAAc,OACd,YAAa,OAEb,YAAa,GAEb,kBAAmB,QACrB,CAAC,ECjBD,MAAMC,EAAU,qCACVC,EAAW,0BAEjBC,EAAM,SAAS,QAAUD,EACzBC,EAAM,SAAS,OAAS,CACtB,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEO,MAAMG,EAAY,MAAMC,GAAS,CACtC,MAAMC,EAAS,CACb,EAAGD,CACP,EAEQ,CAAE,KAAAE,CAAM,EAAG,MAAMJ,EAAM,IAAI,IAAK,CAAE,OAAAG,CAAM,CAAE,EAChD,eAAQ,IAAI,aAAcC,CAAI,EACvBA,CACT,EClBaC,EAAW,IAAIC,EAAe,gBAAiB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,ECHYC,EAAgBC,GAAU,CACrC,MAAMC,EAAa,CAAC,CAClB,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,IAAQ;AAAA;AAAA,uBAEeN,CAAa;AAAA;AAAA;AAAA,yBAGXC,CAAY;AAAA,yBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qEAKwCC,CAAK;AAAA,qEACLC,CAAK;AAAA,wEACFC,CAAQ;AAAA;AAAA,yDAEvBC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,QAM1DC,EAAgBT,EAAO,IAAIU,GAAST,EAAWS,CAAK,CAAC,EAAE,KAAK,EAAE,EAEpEtB,EAAK,QAAQ,UAAYqB,EAEzBZ,EAAS,QAAO,CAClB,EC9BMc,EACJ,OAAO,SAAS,OAAO,SAAS,WAAW,GAC3C,OAAO,SAAS,OAAO,SAAS,WAAW,EAEvCC,EAAkB,CACtB,QAAS,+BAET,QAASD,EACL,2BACA,yCAEJ,iBAAkB,UAClB,gBAAiB,UAEjB,SAAU,OACZ,EAEaE,EAAqBC,GAAK,CACrCA,EAAE,eAAc,EAChB,MAAMC,EAAQ3B,EAAK,KAAK,SAAS,OAE3BM,EAAQqB,EAAM,MAAM,KAAI,EAE9B,GAAIrB,IAAU,GAAI,CAChBL,EAAS,KAAK,CACZ,GAAGuB,EACH,QAAS,iDACf,CAAK,EACDG,EAAM,MAAQ,GACd,MACD,CAED3B,EAAK,OAAO,UAAU,OAAO,iBAAiB,EAC9C2B,EAAM,MAAQ,GAEdtB,EAAUC,CAAK,EACZ,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBP,EAAS,KAAK,CACZ,GAAGuB,EACH,QAAS,0EACnB,CAAS,EAGHb,EAAcH,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMoB,GACL3B,EAAS,KAAK,CACZ,GAAGuB,EACH,QAAS,iCAAiCI,CAAG,EACrD,CAAO,CACF,EACA,QAAQ,IAAM,CACb5B,EAAK,OAAO,UAAU,IAAI,iBAAiB,CACjD,CAAK,CACL,EC5DAA,EAAK,KAAK,iBAAiB,SAAUyB,CAAkB"}